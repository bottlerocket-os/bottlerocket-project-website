<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
    width="100%" viewBox="-0.5 -0.5 741 299"
    style="background-color: rgb(255, 255, 255);">
    <defs />
    <g class="brupop-diagram">
        <defs>
            <pattern patternUnits="userSpaceOnUse" patternTransform="rotate(-45)" id="stripes" width="7" height="7" >
                <rect x="0" y="0" width="7" height="7" />
                <line y1="7"/>
            </pattern>
        </defs>
        <rect x="0" y="59" width="210" height="210" class="node" />
        <rect x="10" y="69" width="30" height="90" class="agent" />
        <rect x="50" y="69" width="30" height="90" class="unused-container" />
        <rect x="90" y="69" width="30" height="90" class="unused-container" />
        <rect x="130" y="69" width="30" height="90" class="unused-container" />
        <rect x="170" y="69" width="30" height="90" class="unused-container" />

        <rect x="10" y="219" width="190" height="40" class="future-volume" />
        <g transform="translate(-0.5 -0.5)">
            <text x="105" y="243" class="label active-volume-label">New Version</text>
        </g>

        <rect x="10" y="169" width="190" height="40" class="active-volume" />
        <g transform="translate(-0.5 -0.5)">
            <text x="105" y="193" class="label active-volume-label">Running Version</text>
        </g>
        
        <rect x="340" y="59" width="210" height="210" class="node" />

        <g class="line-arrow-connector">
            <path d="M 365 69 L 365.04 39 L 603.63 39" class="connector" />
            <path d="M 608.88 39 L 601.88 42.5 L 603.63 39 L 601.88 35.5 Z" class="arrow-head" />
        </g>
        
        <rect x="350" y="69" width="30" height="90" class="agent" />
        <rect x="390" y="69" width="30" height="90" class="unused-container" />
        <rect x="430" y="69" width="30" height="90" class="unused-container" />
        <rect x="470" y="69" width="30" height="90" class="unused-container" />
        <rect x="510" y="69" width="30" height="90" class="unused-container" />

        <rect x="350" y="219" width="190" height="40" class="unused-volume" />
        <g transform="translate(-0.5 -0.5)">
            <text x="445" y="243" class="label outer-label">Prev Version</text>
        </g>
        

        <rect x="350" y="169" width="190" height="40" class="active-volume" />
        <g transform="translate(-0.5 -0.5)">
            <text x="445" y="193" class="label active-volume-label">New Running Version</text>
        </g>

        <g class="line-arrow-connector">
            <path d="M 200 189 L 343.96 236.99" class="connector" />
        <path d="M 348.94 238.65 L 341.19 239.75 L 343.96 236.99 L 343.41 233.11 Z" class="arrow-head" />
        <path d="M 200 239 L 343.96 191.01" class="connector" />
        <path d="M 348.94 189.35 L 343.41 194.89 L 343.96 191.01 L 341.19 188.25 Z" class="arrow-head" />

        </g>
        
        <rect x="240" y="199" width="60" height="30" class="label-backer" />
        <g transform="translate(-0.5 -0.5)">
            <text x="270" y="218" class="label outer-label">Reboot</text>
        </g>

        <g transform="translate(-0.5 -0.5)">
            <text x="22" y="288" class="label outer-label">Node 1</text>
        </g>

        <g transform="translate(-0.5 -0.5)">
            <text x="362" y="288" class="label outer-label">Node 1</text>
        </g>
        
        <g transform="translate(-0.5 -0.5)">
            <text x="675" y="43" class="label outer-label">Update state to</text>
        </g>
        
        <g transform="translate(-0.5 -0.5)">
            <text  x="675" y="73" class="label outer-label">Rebooted Into Update</text>
        </g>
        

        <g class="line-arrow-connector">
            <path
                d="M 114 -55 L 109 -55 Q 104 -55 104 -45 L 104 29 Q 104 39 99 39 L 96.5 39 Q 94 39 99 39 L 101.5 39 Q 104 39 104 49 L 104 123 Q 104 133 109 133 L 114 133"
                transform="translate(104,0)scale(-1,1)translate(-104,0)rotate(90,104,39)"
                class="connector" />
        </g>

        <g transform="translate(-0.5 -0.5)">
            <text x="108" y="19"  class="label outer-label">Stop new and drain existing worloads</text>
        </g>
    </g>
</svg>