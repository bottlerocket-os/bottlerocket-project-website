[[docs.tag.soci-parallel-pull-configuration]]
heading = "soci-snapshotter Parallel Pull Unpack Mode"
description = """

SOCI snapshotter Parallel Pull Unpack mode enhances container image pulls by enabling parallel download and unpacking of image layers.
For detailed performance tuning guidance, see the [SOCI Parallel Mode Performance Tuning documentation](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#performance-tuning) in the upstream soci-snapshotter project.

##### Examples
"""

tag_name = "soci-parallel-pull-configuration"
example = [{ type = "toml", tab = "TOML", source = '''
# Enable SOCI snapshotter
[settings.container-runtime]
snapshotter = "soci"

# Configure SOCI Parallel Pull Unpack settings
[settings.container-runtime-plugins.soci-snapshotter]
pull-mode = "parallel-pull-unpack"

[settings.container-runtime-plugins.soci-snapshotter.parallel-pull-unpack]
max-concurrent-downloads = 10
max-concurrent-downloads-per-image = 5
concurrent-download-chunk-size = "8mb"
max-concurrent-unpacks = 5
max-concurrent-unpacks-per-image = 3
discard-unpacked-layers = true
'''}]

[[docs.ref.soci-snapshotter-pull-mode]]
name_override = "soci-snapshotter.pull-mode"
description = "Pull mode for SOCI snapshotter."
default = "`parallel-pull-unpack`"
accepted_values = [
    "`parallel-pull-unpack`"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]

[[docs.ref.soci-snapshotter-parallel-pull-unpack-max-concurrent-downloads]]
name_override = "soci-snapshotter.parallel-pull-unpack.max-concurrent-downloads"
description = "Total concurrent downloads across all images."
default = "`-1` (unbounded)"
accepted_values = [
    "`-1` for unbounded",
    "positive integer"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]


[[docs.ref.soci-snapshotter-parallel-pull-unpack-max-concurrent-downloads-per-image]]
name_override = "soci-snapshotter.parallel-pull-unpack.max-concurrent-downloads-per-image"
description = "Concurrent downloads per individual image."
default = "`3`"
accepted_values = [
    "positive integer"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]


[[docs.ref.soci-snapshotter-parallel-pull-unpack-concurrent-download-chunk-size]]
name_override = "soci-snapshotter.parallel-pull-unpack.concurrent-download-chunk-size"
description = "Size of download chunks."
default = "`unlimited` (unbounded)"
accepted_values = [
    "`unlimited` for unbounded",
    "byte size string (e.g. 1024, 1kb, 3mib, 2gb)"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]


[[docs.ref.soci-snapshotter-parallel-pull-unpack-max-concurrent-unpacks]]
name_override = "soci-snapshotter.parallel-pull-unpack.max-concurrent-unpacks"
description = "Total concurrent unpack operations."
default = "`-1` (unbounded)"
accepted_values = [
    "`-1` for unbounded",
    "positive integer"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]


[[docs.ref.soci-snapshotter-parallel-pull-unpack-max-concurrent-unpacks-per-image]]
name_override = "soci-snapshotter.parallel-pull-unpack.max-concurrent-unpacks-per-image"
description = "Concurrent unpacks per individual image."
default = "`1`"
accepted_values = [
    "positive integer"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]


[[docs.ref.soci-snapshotter-parallel-pull-unpack-discard-unpacked-layers]]
name_override = "soci-snapshotter.parallel-pull-unpack.discard-unpacked-layers"
description = "Remove compressed layers after unpacking."
default = "`false`"
accepted_values = [
    "`true`",
    "`false`"
]
see = [
    ["[SOCI Snapshotter Configuration](https://github.com/awslabs/soci-snapshotter/blob/main/docs/parallel-mode.md#configuration)"]
]
tags = ["soci-parallel-pull-configuration"]

